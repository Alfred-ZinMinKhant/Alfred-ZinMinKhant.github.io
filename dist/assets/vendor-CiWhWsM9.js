var he=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _e(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Q={exports:{}},X={};var ne;function ve(){return ne||(ne=1,(function(r){function v(c,g){var d=c.length;c.push(g);e:for(;0<d;){var k=d-1>>>1,I=c[k];if(0<p(I,g))c[k]=g,c[d]=I,d=k;else break e}}function h(c){return c.length===0?null:c[0]}function s(c){if(c.length===0)return null;var g=c[0],d=c.pop();if(d!==g){c[0]=d;e:for(var k=0,I=c.length,H=I>>>1;k<H;){var N=2*(k+1)-1,K=c[N],F=N+1,G=c[F];if(0>p(K,d))F<I&&0>p(G,K)?(c[k]=G,c[F]=d,k=F):(c[k]=K,c[N]=d,k=N);else if(F<I&&0>p(G,d))c[k]=G,c[F]=d,k=F;else break e}}return g}function p(c,g){var d=c.sortIndex-g.sortIndex;return d!==0?d:c.id-g.id}if(typeof performance=="object"&&typeof performance.now=="function"){var n=performance;r.unstable_now=function(){return n.now()}}else{var e=Date,f=e.now();r.unstable_now=function(){return e.now()-f}}var a=[],t=[],o=1,u=null,l=3,b=!1,m=!1,y=!1,E=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(c){for(var g=h(t);g!==null;){if(g.callback===null)s(t);else if(g.startTime<=c)s(t),g.sortIndex=g.expirationTime,v(a,g);else break;g=h(t)}}function _(c){if(y=!1,P(c),!m)if(h(a)!==null)m=!0,Y(R);else{var g=h(t);g!==null&&J(_,g.startTime-c)}}function R(c,g){m=!1,y&&(y=!1,C(q),q=-1),b=!0;var d=l;try{for(P(g),u=h(a);u!==null&&(!(u.expirationTime>g)||c&&!W());){var k=u.callback;if(typeof k=="function"){u.callback=null,l=u.priorityLevel;var I=k(u.expirationTime<=g);g=r.unstable_now(),typeof I=="function"?u.callback=I:u===h(a)&&s(a),P(g)}else s(a);u=h(a)}if(u!==null)var H=!0;else{var N=h(t);N!==null&&J(_,N.startTime-g),H=!1}return H}finally{u=null,l=d,b=!1}}var T=!1,x=null,q=-1,S=5,z=-1;function W(){return!(r.unstable_now()-z<S)}function D(){if(x!==null){var c=r.unstable_now();z=c;var g=!0;try{g=x(!0,c)}finally{g?M():(T=!1,x=null)}}else T=!1}var M;if(typeof w=="function")M=function(){w(D)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,pe=ee.port2;ee.port1.onmessage=D,M=function(){pe.postMessage(null)}}else M=function(){E(D,0)};function Y(c){x=c,T||(T=!0,M())}function J(c,g){q=E(function(){c(r.unstable_now())},g)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(c){c.callback=null},r.unstable_continueExecution=function(){m||b||(m=!0,Y(R))},r.unstable_forceFrameRate=function(c){0>c||125<c?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<c?Math.floor(1e3/c):5},r.unstable_getCurrentPriorityLevel=function(){return l},r.unstable_getFirstCallbackNode=function(){return h(a)},r.unstable_next=function(c){switch(l){case 1:case 2:case 3:var g=3;break;default:g=l}var d=l;l=g;try{return c()}finally{l=d}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(c,g){switch(c){case 1:case 2:case 3:case 4:case 5:break;default:c=3}var d=l;l=c;try{return g()}finally{l=d}},r.unstable_scheduleCallback=function(c,g,d){var k=r.unstable_now();switch(typeof d=="object"&&d!==null?(d=d.delay,d=typeof d=="number"&&0<d?k+d:k):d=k,c){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=d+I,c={id:o++,callback:g,priorityLevel:c,startTime:d,expirationTime:I,sortIndex:-1},d>k?(c.sortIndex=d,v(t,c),h(a)===null&&c===h(t)&&(y?(C(q),q=-1):y=!0,J(_,d-k))):(c.sortIndex=I,v(a,c),m||b||(m=!0,Y(R))),c},r.unstable_shouldYield=W,r.unstable_wrapCallback=function(c){var g=l;return function(){var d=l;l=g;try{return c.apply(this,arguments)}finally{l=d}}}})(X)),X}var te;function Te(){return te||(te=1,Q.exports=ve()),Q.exports}var j={exports:{}},Z,re;function ge(){if(re)return Z;re=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Z=r,Z}var B,oe;function de(){if(oe)return B;oe=1;var r=ge();function v(){}function h(){}return h.resetWarningCache=v,B=function(){function s(e,f,a,t,o,u){if(u!==r){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}s.isRequired=s;function p(){return s}var n={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:p,element:s,elementType:s,instanceOf:p,node:s,objectOf:p,oneOf:p,oneOfType:p,shape:p,exact:p,checkPropTypes:h,resetWarningCache:v};return n.PropTypes=n,n},B}var ae;function ke(){return ae||(ae=1,j.exports=de()()),j.exports}var V,ie;function Pe(){return ie||(ie=1,V=function(v,h,s,p){var n=s?s.call(p,v,h):void 0;if(n!==void 0)return!!n;if(v===h)return!0;if(typeof v!="object"||!v||typeof h!="object"||!h)return!1;var e=Object.keys(v),f=Object.keys(h);if(e.length!==f.length)return!1;for(var a=Object.prototype.hasOwnProperty.bind(h),t=0;t<e.length;t++){var o=e[t];if(!a(o))return!1;var u=v[o],l=h[o];if(n=s?s.call(p,u,l,o):void 0,n===!1||n===void 0&&u!==l)return!1}return!0}),V}var U={exports:{}},L={exports:{}},me=L.exports,ue;function ye(){return ue||(ue=1,(function(){var r,v,h,s,p,n;typeof performance<"u"&&performance!==null&&performance.now?L.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(L.exports=function(){return(r()-p)/1e6},v=process.hrtime,r=function(){var e;return e=v(),e[0]*1e9+e[1]},s=r(),n=process.uptime()*1e9,p=s-n):Date.now?(L.exports=function(){return Date.now()-h},h=Date.now()):(L.exports=function(){return new Date().getTime()-h},h=new Date().getTime())}).call(me)),L.exports}var le;function Re(){if(le)return U.exports;le=1;for(var r=ye(),v=typeof window>"u"?he:window,h=["moz","webkit"],s="AnimationFrame",p=v["request"+s],n=v["cancel"+s]||v["cancelRequest"+s],e=0;!p&&e<h.length;e++)p=v[h[e]+"Request"+s],n=v[h[e]+"Cancel"+s]||v[h[e]+"CancelRequest"+s];if(!p||!n){var f=0,a=0,t=[],o=1e3/60;p=function(u){if(t.length===0){var l=r(),b=Math.max(0,o-(l-f));f=b+l,setTimeout(function(){var m=t.slice(0);t.length=0;for(var y=0;y<m.length;y++)if(!m[y].cancelled)try{m[y].callback(f)}catch(E){setTimeout(function(){throw E},0)}},Math.round(b))}return t.push({handle:++a,callback:u,cancelled:!1}),a},n=function(u){for(var l=0;l<t.length;l++)t[l].handle===u&&(t[l].cancelled=!0)}}return U.exports=function(u){return p.call(v,u)},U.exports.cancel=function(){n.apply(v,arguments)},U.exports.polyfill=function(u){u||(u=v),u.requestAnimationFrame=p,u.cancelAnimationFrame=n},U.exports}var $,fe;function qe(){if(fe)return $;fe=1;function r(s,p,n,e){if(typeof s!="string")throw new Error("First param must be a string");if(typeof p!="string"&&!(p instanceof RegExp))throw new Error("Second param must be a string pattern or a regular expression");var f=typeof p=="string"?v:h;return f(s,p,n,e)}function v(s,p,n,e){var f=s.indexOf(p);if(f>=0){var a=[],t=f+p.length;return f>0&&a.push(s.substring(0,f)),a.push(typeof n=="function"?n(s.substring(f,t),f+e,s):n),t<s.length&&a.push(s.substring(t)),a}else return[s]}function h(s,p,n,e){var f=[],a=typeof n=="function",t=p.lastIndex;p.lastIndex=0;for(var o,u=0;o=p.exec(s);){var l=o.index;o[0]===""&&p.lastIndex++,l!==u&&f.push(s.substring(u,l));var b=o[0];u=l+b.length;var m=a?n.apply(this,o.concat(l+e,o.input)):n;if(f.push(m),!p.global)break}return u<s.length&&f.push(s.substring(u)),p.lastIndex=t,f}return $=function(p,n,e){if(typeof p=="string")return r(p,n,e,0);if(!Array.isArray(p)||!p[0])throw new TypeError("First argument must be an array or non-empty string");for(var f=p.length,a=[],t=0,o=0;o<f;++o){var u=p[o];typeof u=="string"?(a.push.apply(a,r(u,n,e,t)),t+=u.length):a.push(u)}return a},$}var O=function(r,v){return r<v?-1:r>v?1:0},se=function(r){return r.reduce(function(v,h){return v+h},0)},be=(function(){function r(h){this.colors=h}var v=r.prototype;return v.palette=function(){return this.colors},v.map=function(h){return h},r})(),we=(function(){function r(n,e,f){return(n<<10)+(e<<5)+f}function v(n){var e=[],f=!1;function a(){e.sort(n),f=!0}return{push:function(t){e.push(t),f=!1},peek:function(t){return f||a(),t===void 0&&(t=e.length-1),e[t]},pop:function(){return f||a(),e.pop()},size:function(){return e.length},map:function(t){return e.map(t)},debug:function(){return f||a(),e}}}function h(n,e,f,a,t,o,u){var l=this;l.r1=n,l.r2=e,l.g1=f,l.g2=a,l.b1=t,l.b2=o,l.histo=u}function s(){this.vboxes=new v(function(n,e){return O(n.vbox.count()*n.vbox.volume(),e.vbox.count()*e.vbox.volume())})}function p(n,e){if(e.count()){var f=e.r2-e.r1+1,a=e.g2-e.g1+1,t=Math.max.apply(null,[f,a,e.b2-e.b1+1]);if(e.count()==1)return[e.copy()];var o,u,l,b,m=0,y=[],E=[];if(t==f)for(o=e.r1;o<=e.r2;o++){for(b=0,u=e.g1;u<=e.g2;u++)for(l=e.b1;l<=e.b2;l++)b+=n[r(o,u,l)]||0;y[o]=m+=b}else if(t==a)for(o=e.g1;o<=e.g2;o++){for(b=0,u=e.r1;u<=e.r2;u++)for(l=e.b1;l<=e.b2;l++)b+=n[r(u,o,l)]||0;y[o]=m+=b}else for(o=e.b1;o<=e.b2;o++){for(b=0,u=e.r1;u<=e.r2;u++)for(l=e.g1;l<=e.g2;l++)b+=n[r(u,l,o)]||0;y[o]=m+=b}return y.forEach(function(C,w){E[w]=m-C}),(function(C){var w,P,_,R,T,x=C+"1",q=C+"2",S=0;for(o=e[x];o<=e[q];o++)if(y[o]>m/2){for(_=e.copy(),R=e.copy(),T=(w=o-e[x])<=(P=e[q]-o)?Math.min(e[q]-1,~~(o+P/2)):Math.max(e[x],~~(o-1-w/2));!y[T];)T++;for(S=E[T];!S&&y[T-1];)S=E[--T];return _[q]=T,R[x]=_[q]+1,[_,R]}})(t==f?"r":t==a?"g":"b")}}return h.prototype={volume:function(n){var e=this;return e._volume&&!n||(e._volume=(e.r2-e.r1+1)*(e.g2-e.g1+1)*(e.b2-e.b1+1)),e._volume},count:function(n){var e=this,f=e.histo;if(!e._count_set||n){var a,t,o,u=0;for(a=e.r1;a<=e.r2;a++)for(t=e.g1;t<=e.g2;t++)for(o=e.b1;o<=e.b2;o++)u+=f[r(a,t,o)]||0;e._count=u,e._count_set=!0}return e._count},copy:function(){var n=this;return new h(n.r1,n.r2,n.g1,n.g2,n.b1,n.b2,n.histo)},avg:function(n){var e=this,f=e.histo;if(!e._avg||n){var a,t,o,u,l=0,b=0,m=0,y=0;if(e.r1===e.r2&&e.g1===e.g2&&e.b1===e.b2)e._avg=[e.r1<<3,e.g1<<3,e.b1<<3];else{for(t=e.r1;t<=e.r2;t++)for(o=e.g1;o<=e.g2;o++)for(u=e.b1;u<=e.b2;u++)l+=a=f[r(t,o,u)]||0,b+=a*(t+.5)*8,m+=a*(o+.5)*8,y+=a*(u+.5)*8;e._avg=l?[~~(b/l),~~(m/l),~~(y/l)]:[~~(8*(e.r1+e.r2+1)/2),~~(8*(e.g1+e.g2+1)/2),~~(8*(e.b1+e.b2+1)/2)]}}return e._avg},contains:function(n){var e=this,f=n[0]>>3;return gval=n[1]>>3,bval=n[2]>>3,f>=e.r1&&f<=e.r2&&gval>=e.g1&&gval<=e.g2&&bval>=e.b1&&bval<=e.b2}},s.prototype={push:function(n){this.vboxes.push({vbox:n,color:n.avg()})},palette:function(){return this.vboxes.map(function(n){return n.color})},size:function(){return this.vboxes.size()},map:function(n){for(var e=this.vboxes,f=0;f<e.size();f++)if(e.peek(f).vbox.contains(n))return e.peek(f).color;return this.nearest(n)},nearest:function(n){for(var e,f,a,t=this.vboxes,o=0;o<t.size();o++)((f=Math.sqrt(Math.pow(n[0]-t.peek(o).color[0],2)+Math.pow(n[1]-t.peek(o).color[1],2)+Math.pow(n[2]-t.peek(o).color[2],2)))<e||e===void 0)&&(e=f,a=t.peek(o).color);return a},forcebw:function(){var n=this.vboxes;n.sort(function(t,o){return O(se(t.color),se(o.color))});var e=n[0].color;e[0]<5&&e[1]<5&&e[2]<5&&(n[0].color=[0,0,0]);var f=n.length-1,a=n[f].color;a[0]>251&&a[1]>251&&a[2]>251&&(n[f].color=[255,255,255])}},{quantize:function(n,e){if(!Number.isInteger(e)||e<1||e>256)throw new Error("Invalid maximum color count. It must be an integer between 1 and 256.");if(!n.length||e<2||e>256||!n.length||e<2||e>256)return!1;for(var f=[],a=new Set,t=0;t<n.length;t++){var o=n[t],u=o.join(",");a.has(u)||(a.add(u),f.push(o))}if(f.length<=e)return new be(f);var l=(function(w){var P,_=new Array(32768);return w.forEach(function(R){P=r(R[0]>>3,R[1]>>3,R[2]>>3),_[P]=(_[P]||0)+1}),_})(n);l.forEach(function(){});var b=(function(w,P){var _,R,T,x=1e6,q=0,S=1e6,z=0,W=1e6,D=0;return w.forEach(function(M){(_=M[0]>>3)<x?x=_:_>q&&(q=_),(R=M[1]>>3)<S?S=R:R>z&&(z=R),(T=M[2]>>3)<W?W=T:T>D&&(D=T)}),new h(x,q,S,z,W,D,P)})(n,l),m=new v(function(w,P){return O(w.count(),P.count())});function y(w,P){for(var _,R=w.size(),T=0;T<1e3;){if(R>=P||T++>1e3)return;if((_=w.pop()).count()){var x=p(l,_),q=x[0],S=x[1];if(!q)return;w.push(q),S&&(w.push(S),R++)}else w.push(_),T++}}m.push(b),y(m,.75*e);for(var E=new v(function(w,P){return O(w.count()*w.volume(),P.count()*P.volume())});m.size();)E.push(m.pop());y(E,e);for(var C=new s;E.size();)C.push(E.pop());return C}}})().quantize,ce=function(r){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.width=this.canvas.width=r.naturalWidth,this.height=this.canvas.height=r.naturalHeight,this.context.drawImage(r,0,0,this.width,this.height)};ce.prototype.getImageData=function(){return this.context.getImageData(0,0,this.width,this.height)};var A=function(){};A.prototype.getColor=function(r,v){return v===void 0&&(v=10),this.getPalette(r,5,v)[0]},A.prototype.getPalette=function(r,v,h){var s=(function(f){var a=f.colorCount,t=f.quality;if(a!==void 0&&Number.isInteger(a)){if(a===1)throw new Error("colorCount should be between 2 and 20. To get one color, call getColor() instead of getPalette()");a=Math.max(a,2),a=Math.min(a,20)}else a=10;return(t===void 0||!Number.isInteger(t)||t<1)&&(t=10),{colorCount:a,quality:t}})({colorCount:v,quality:h}),p=new ce(r),n=(function(f,a,t){for(var o,u,l,b,m,y=f,E=[],C=0;C<a;C+=t)u=y[0+(o=4*C)],l=y[o+1],b=y[o+2],((m=y[o+3])===void 0||m>=125)&&(u>250&&l>250&&b>250||E.push([u,l,b]));return E})(p.getImageData().data,p.width*p.height,s.quality),e=we(n,s.colorCount);return e?e.palette():null},A.prototype.getColorFromUrl=function(r,v,h){var s=this,p=document.createElement("img");p.addEventListener("load",function(){var n=s.getPalette(p,5,h);v(n[0],r)}),p.src=r},A.prototype.getImageData=function(r,v){var h=new XMLHttpRequest;h.open("GET",r,!0),h.responseType="arraybuffer",h.onload=function(){if(this.status==200){var s=new Uint8Array(this.response);i=s.length;for(var p=new Array(i),n=0;n<s.length;n++)p[n]=String.fromCharCode(s[n]);var e=p.join(""),f=window.btoa(e);v("data:image/png;base64,"+f)}},h.send()},A.prototype.getColorAsync=function(r,v,h){var s=this;this.getImageData(r,function(p){var n=document.createElement("img");n.addEventListener("load",function(){var e=s.getPalette(n,5,h);v(e[0],this)}),n.src=p})};export{Re as a,Pe as b,ke as c,qe as d,_e as g,Te as r,A as u};
